<ion-content>
    <div class="login-page" [class.new-password]="isNewPasswordForm">
  
      <!-- Login header -->
      <div class="login-header" [ngClass]="{'fadeInUp': !showKeyboard, 'fadeOutDown': showKeyboard}">
        <div class="piq-svg" >
          <svg _ngcontent-c16="" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink" style="enable-background:new 0 0 42.5 35;" viewbox="0 0 42.5 35" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px">
            <path _ngcontent-c16="" class="st0" d="M21.2,7.2l14.2,10V28H7V17.2L21.2,7.2z M40.7,12.9L36.6,10l-0.2-0.1c-0.6-0.4-1.3-0.9-2.1-1.5  c-1.6-1.2-3.6-2.5-5.4-3.8c-1.5-1-2.9-2-3.9-2.7l-1.8-1.3h-0.1C22.5,0.2,21.9,0,21.2,0s-1.3,0.2-1.9,0.6c0,0,0,0-0.1,0l-1.8,1.3  c-1,0.7-2.4,1.7-3.9,2.7c-1.8,1.3-3.7,2.6-5.4,3.8C7.3,9,6.6,9.5,6,9.9L5.8,10l-4.2,3c-0.1,0-0.1,0.1-0.1,0.1l-0.1,0.1  c-0.5,0.3-0.8,0.8-1.1,1.3C0.1,15-0.1,15.6,0,16.2v15.3l0,0l0,0l0,0C0,33.4,1.6,35,3.5,35c0.1,0,0.1,0,0.2,0h35.1c0.1,0,0.1,0,0.2,0  c1.9,0,3.5-1.6,3.5-3.5V15.9C42.5,14.6,41.7,13.5,40.7,12.9">
            </path>
          </svg>
        </div>
        <img class="piq-logo" src="https://dev-piqstrataportal.tooltwist-project.com/assets/images/piq_logo_white.png">
      </div>
  
      <!-- Login body -->
      <div class="login-body fadeInDown" [class.is-loading]="isLoading" [ngClass]="{'is-loading': isLoading, 'new-form': isNewPasswordForm}">
  
        <!-- Login form -->
        <div class="login-form-container">
            <form class="login-form" role="form" [formGroup]="form" (submit)="onSubmit(form)">
              <ng-container *ngIf="!isNewPasswordForm">
                <!-- Email -->
                <ion-item>
                  <ion-label floating>
                    <ion-icon name="mail" item-start class="text-primary"></ion-icon>
                    Email
                  </ion-label>
                  <ion-input class="login-inputs" type="email" formControlName='email' (ionFocus)="onInputFocus()" (ionBlur)="onInputBlur()"></ion-input>
                </ion-item>
              </ng-container>
  
              <ng-container *ngIf="isNewPasswordForm">
                <!-- Email -->
                <ion-item>
                  <ion-label floating>
                    <ion-icon name="mail" item-start class="text-primary"></ion-icon>
                    Email
                  </ion-label>
                  <ion-input class="login-inputs" type="email" formControlName='email' (ionFocus)="onInputFocus()" (ionBlur)="onInputBlur()"></ion-input>
                </ion-item>
                <!-- Verification Code -->
                <div class="input-with-helpers">
                  <ion-item>
                    <ion-label floating>
                      <ion-icon name="finger-print" item-start class="text-primary"></ion-icon>
                      Verification code
                    </ion-label>
                    <ion-input class="login-inputs" type="text" formControlName='code' (ionFocus)="onInputFocus()" (ionBlur)="onInputBlur()"></ion-input>
                  </ion-item>
                  <div class="input-helpers-container">
                    <ion-label tappable class="input-helpers">
                      <ion-icon name="help" end class="text-primary" (click)="showHelper('verification-code')"></ion-icon>
                    </ion-label>
                  </div>
                </div>
                <!-- Password -->
                <div class="input-with-helpers">
                  <ion-item>
                    <ion-label floating>
                      <ion-icon name="lock" item-start class="text-primary"></ion-icon>
                      Password
                    </ion-label>
                    <ion-input class="login-inputs" type="password" formControlName='password' (ionFocus)="onInputFocus()" (ionBlur)="onInputBlur()"></ion-input>
                  </ion-item>
                  <div class="input-helpers-container">
                    <ion-label tappable class="input-helpers">
                      <ion-icon name="help" end class="text-primary" (click)="showHelper('password')"></ion-icon>
                    </ion-label>
                  </div>
                </div>
                <!-- Confirm Password -->
                <ion-item>
                  <ion-label floating>
                    <ion-icon name="lock" item-start class="text-primary"></ion-icon>
                    Confirm password
                  </ion-label>
                  <ion-input class="login-inputs" type="password" formControlName='confirmPassword' (ionFocus)="onInputFocus()" (ionBlur)="onInputBlur()"></ion-input>
                </ion-item>
              </ng-container>
  
              <!-- Submit -->
              <button type="submit" class="login-submit-btn" [disabled]="form.invalid" ion-button block tappable>Submit</button>
              <button type="button" class="mt-2" ion-button outline block tappable (click)="onCancel()">Cancel</button>
            </form>
          </div>
  
          <!-- Login bottom -->
          <div class="login-bottom" *ngIf="!isNewPasswordForm" >
            <a class="login-forgot-password" (click)="toggleNewPasswordForm()">Already have verification code?</a>
          </div>
      </div>
  
      <!-- Login footer -->
      <div class="login-footer" [ngClass]="{'fadeInUp': !showKeyboard, 'fadeOutDown': showKeyboard}" *ngIf="!isNewPasswordForm">
        <p class="lf-signup">Â© PropertyIQ Pty Limited</p>
      </div>
  
      <!-- Login floater -->
      <div class="login-floater" [ngClass]="{'fadeInUp': !showKeyboard, 'fadeOutDown': showKeyboard}"></div>
  
    </div>
  </ion-content>
  